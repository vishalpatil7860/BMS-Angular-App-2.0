<app-header (featureSelected)="onNavigate($event)"></app-header>


<div class="container-fluid"  *ngIf="details">
  
  <div class="col-md-5 col-md-offset-4">
    <h1 style="text-align: center;">Update Profile</h1>
  <form [formGroup]="updateForm" (ngSubmit)="submit()">
    
    <div class="form-group ">
      <label for="name">Name</label>
        <input formControlName="name"  id="name" type="text" [(ngModel)]="details.name" class="form-control">

        <div *ngIf="formControls.name.touched && formControls.name.invalid" class="alert alert-danger">
          <div *ngIf="formControls.name.errors.pattern">Name should contain only alphabets and space</div>
        </div>
    </div>
    
    <div class="form-group ">
      <label for="username">User Name</label>
        <input id="username" type="text" formControlName="username" [(ngModel)]="details.username" class="form-control" />
    </div>
    
    <div class="form-group">
      <label for="password">Password</label>
        <input formControlName="password" id="password" type="password" [(ngModel)]="details.password" class="form-control" />
        <div *ngIf="formControls.password.touched && formControls.password.invalid" class="alert alert-danger">
            <div *ngIf="formControls.password.errors.minlength">Password should be 6 character.</div>
        </div>
    </div>
    
    <div class="form-group">
      <label for="guardiantype">Guardian type</label>
        <input id="guardiantype" type="text" formControlName="guardiantype" [(ngModel)]="details.guardiantype" class="form-control" />
    </div>
    
    <div class="form-group">
      <label for="gname">Guardian Name</label>
        <input id="gname" type="text" formControlName="gname" [(ngModel)]="details.gname" class="form-control" />
    </div>
    
    <div class="form-group ">
      <label for="address">Address</label>
        <textarea id="address" type="text" formControlName="address" [(ngModel)]="details.address" class="form-control"></textarea>
    </div>

    <div class="form-group">
      <label for="citizenship">Citizenship</label>
        <input type="text" class="form-control" formControlName="citizenship" [(ngModel)]="details.citizenship" id="citizenship">
    </div>

    <div class="row">    
      <div class="form-group col-md-6">
        <label for="inputCountry">Country</label>
          <select formControlName="inputCountry" [(ngModel)]="selectedCountry.id" (change)="onSelect($event.target.value)" id="inputCountry" class="form-control">
            <option value="0">--Select--</option>
            <option *ngFor="let country of countries" value= {{country.id}}>{{country.name}}</option>
          </select>
      </div>
      <div class="form-group col-md-6">
        <label for="state">State</label>
          <select formControlName="state" id="state" [(ngModel)]="details.state" class="form-control">
            <option value="0">--Select--</option>
            <option *ngFor="let state of states " value= {{state.id}}>{{state.name}}</option>
          </select>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
        <input formControlName="email" id="email" [(ngModel)]="details.email" type="email" class="form-control">
          <div *ngIf="formControls.email.touched && formControls.email.invalid" class="alert alert-danger">
              <div *ngIf="formControls.email.errors.email">Please, enter valid email address.</div>
          </div>
    </div>
    
    <div class="form-group">
      <label for="gender">Gender</label>
          <select class="form-control" type="text" formControlName="gender" [(ngModel)]="details.gender" id="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="others">Others</option>
          </select>
  </div>


  <div class="form-group">
      <label for="maritialstatus">Maritial Status</label>
          <select class="form-control" formControlName="maritialstatus" [(ngModel)]="details.maritialstatus" id="maritialstatus">
            <option value="married">Married</option>
            <option value="unmarried" selected="selected">Unmarried</option>
          </select>
  </div>

    
    <div class="form-group">
      <label for="contact">Contact</label>
        <input type="text" formControlName="contact" [(ngModel)]="details.contact"  class="form-control" id="contact">
    </div>
    

    <div class="row">
      <div class="col-xs-12 col-12 col-md-6 form-group">
        <label for="dob">Date of birth</label>
          <input type="date" class="form-control" formControlName="dob" [(ngModel)]="details.dob" id="dob" max="{{date | date:'yyyy-MM-dd'}}"/>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-xs-12 col-12 col-md-6">
        <label for="registerDate">Registerd date</label>
          <input type="date" class="form-control" formControlName="registerDate" [(ngModel)]="details.registerDate" id="registerDate">
      </div>
    </div>

    <div class="form-group">
      <label for="accountType">Account Type</label>
      <select class="form-control select2" formControlName="accountType" [(ngModel)]="details.accountType" type="text">
        <option value="saving">Saving</option>
        <option value="salary">Salary</option>
      </select>
    </div>

    <div class="form-group">
      <label for="branch">Branch name</label>
        <input type="text" class="form-control" formControlName="branch" [(ngModel)]="details.branch" id="branch">
        
    </div>
      
    <div class="form-group">
      <label for="citizen">Citizen status</label>
        <input type="text" value={{details.citizen}} class="form-control" formControlName="citizen" [(ngModel)]="details.citizen" id="citizen">
    </div>
      
    <div class="form-group">
      <label for="deposit">Initial Deposit Amount</label>
        <input type="text" value={{details.deposit}} class="form-control" formControlName="deposit" [(ngModel)]="details.deposit" id="deposit">
    </div>
    
    <div class="form-group">
      <label for="prooftype">Identification Proof Type</label>
        <input type="text" value={{details.prooftype}} class="form-control" formControlName="prooftype" [(ngModel)]="details.prooftype" id="prooftype">
    </div>
     
    <div class="form-group">
      <label for="docnumber">Identification Document Number</label>
        <input type="text" value={{details.docnumber}} class="form-control" formControlName="docnumber" [(ngModel)]="details.docnumber" id="docnumber">
    </div>
    
    <div class="form-group">
      <label for="refername">Reference account holder name</label>
        <input type="text" value={{details.refername}} class="form-control" formControlName="refername" [(ngModel)]="details.refername" id="refername">
    </div>      
    
    <div class="form-group">
      <label for="refernumber">Reference account number</label>
        <input type="text" value={{details.refernumber}} class="form-control" formControlName="refernumber" [(ngModel)]="details.refernumber" id="refernumber">
    </div>
  
    <div class="form-group">
      <label for="referaddress">Reference account holder address</label>
        <input type="text" value={{details.referaddress}} class="form-control" formControlName="referaddress" [(ngModel)]="details.referaddress" id="referaddress">
    </div>
 
      <button id="button" mat-raised-button class="btn btn-primary" type="submit" >Update</button>
      
    </form>
  </div>
</div>